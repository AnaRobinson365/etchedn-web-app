{% extends "base.html" %}
{% load static %}

{% block title %}ETCHEDN - Sign Up{% endblock %}

{% block content %}
        <head>
            <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.13/css/select2.min.css" rel="stylesheet" />
        </head>
            <!-- Page content-->
            <section class="py-5">
                <div class="container px-5">
                    <!-- Sign Up form-->
                    <div class="bg-light rounded-3 py-5 px-4 px-md-5 mb-5">
                        <div class="text-center mb-5">
                            <div class="feature bg-primary bg-gradient text-white rounded-3 mb-3"><i class="bi bi-person"></i></div>
                            <h1 class="fw-bolder">Sign Up</h1>
                            <p class="lead fw-normal text-muted mb-0">Already have an account? <a href="/login">Log In</a></p>
                        </div>
                        <!-- Messages block -->
                        {% if messages %}
                            {% for message in messages %}
                            <div class="alert alert-warning alert-dismissible fade show" role="alert">
                                {{ message }}
                                <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                                </button>
                            </div>
                            {% endfor %}
                        {% endif %}
                        <div class="row gx-5 justify-content-center">
                            <div class="col-lg-8 col-xl-6">
                                <form id="signup-form" method="POST" action="{% url 'signup' %}" data-sb-form-api-token="API_TOKEN">
                                    {% csrf_token %}
                                    <!-- Company Name input-->
                                    <div class="form-floating mb-3">
                                        <input class="form-control {% if form.CompanyName.errors %}is-invalid{% endif %}" name="CompanyName" id="company" type="text" placeholder="Company Name" data-sb-validations="required" />
                                        <label for="name">Company name</label>
                                        <div class="invalid-feedback" data-sb-feedback="company:optional">A name is optional.</div>
                                        {% for error in form.CompanyName.errors %}
                                            <div class="invalid-feedback">{{ error }}</div>
                                        {% endfor %}
                                    </div>
                                    <!-- First Name input-->
                                    <div class="form-floating mb-3">
                                        <input class="form-control {% if form.first_name.errors %}is-invalid{% endif %}" name="first_name" id="firstname" type="text" placeholder="First Name" data-sb-validations="required" />
                                        <label for="name">First name <span style="color: red;">*</span></label>
                                        <div class="invalid-feedback" data-sb-feedback="firstname:required">A firstname is required.</div>
                                        {% for error in form.first_name.errors %}
                                            <div class="invalid-feedback">{{ error }}</div>
                                        {% endfor %}
                                    </div>
                                    <!-- Last Name input-->
                                    <div class="form-floating mb-3">
                                        <input class="form-control {% if form.last_name.errors %}is-invalid{% endif %}" name="last_name" id="lastname" type="text" placeholder="Last Name" data-sb-validations="required" />
                                        <label for="name">Last name <span style="color: red;">*</span></label>
                                        <div class="invalid-feedback" data-sb-feedback="lastname:required">A lastname is required.</div>
                                        {% for error in form.last_name.errors %}
                                            <div class="invalid-feedback">{{ error }}</div>
                                        {% endfor %}
                                    </div>
                                    <!--Username input-->
                                    <div class="form-floating mb-3">
                                        <input class="form-control {% if form.username.errors %}is-invalid{% endif %}" name="username" id="username" type="text" placeholder="Username" data-sb-validations="required" />
                                        <label for="name">Username <span style="color: red;">*</span></label>
                                        <div class="invalid-feedback" data-sb-feedback="username:required">A username is required.</div>
                                        {% for error in form.username.errors %}
                                            <div class="invalid-feedback">{{ error }}</div>
                                        {% endfor %}
                                    </div>
                                    <!-- Email address input-->
                                    <div class="form-floating mb-3">
                                        <input class="form-control {% if form.email.errors %}is-invalid{% endif %}" name="email" id="email" type="email" placeholder="Email address" data-sb-validations="required" pattern="[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$"/>
                                        <label for="email">Email address <span style="color: red;">*</span></label>
                                        <div class="invalid-feedback" data-sb-feedback="email:required">An email is required.</div>
                                        <div class="invalid-feedback" data-sb-feedback="email:email">Email is not valid.</div>
                                        {% for error in form.email.errors %}
                                            <div class="invalid-feedback">{{ error }}</div>
                                        {% endfor %}
                                    </div>
                                    <!-- Phone number input-->
                                    <div class="form-floating mb-3">
                                        <input class="form-control {% if form.PhoneNumber.errors %}is-invalid{% endif %}" name="PhoneNumber" id="phone" type="tel" placeholder="Phone number" data-sb-validations="required" pattern="\(?([0-9]{3})\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})"/>
                                        <label for="phone">Phone number <span style="color: red;">*</span></label>
                                        <div class="invalid-feedback" data-sb-feedback="phone:required">A phone valid number is required.</div>
                                        {% for error in form.PhoneNumber.errors %}
                                            <div class="invalid-feedback">{{ error }}</div>
                                        {% endfor %}
                                    </div>
                                    <!-- Password 1 input-->
                                    <div class="form-floating mb-3">
                                        <input class="form-control {% if form.password1.errors %}is-invalid{% endif %}" name="password1" id="password" type="password" placeholder="Password" data-sb-validations="required" />
                                        <label for="password">Password <span style="color: red;">*</span></label>
                                        <div class="invalid-feedback" data-sb-feedback="password:required">A password is required.</div>
                                        {% for error in form.password1.errors %}
                                            <div class="invalid-feedback">{{ error }}</div>
                                        {% endfor %}
                                    </div>
                                    <!-- Password 2 input-->
                                    <div class="form-floating mb-3">
                                        <input class="form-control {% if form.password2.errors %}is-invalid{% endif %}" name="password2" id="password" type="password" placeholder=" Confirm password" data-sb-validations="required" />
                                        <label for="password">Confirm Password <span style="color: red;">*</span></label>
                                        <div class="invalid-feedback" data-sb-feedback="password:required">A password is required.</div>
                                        {% for error in form.password2.errors %}
                                            <div class="invalid-feedback">{{ error }}</div>
                                        {% endfor %}
                                    </div>
                                    <!-- State dropdown menu -->
                                    <div class="form-floating mb-3">
                                        <select class="form-select state-dropdown {% if form.State.errors %}is-invalid{% endif %}" id="state" name="State" aria-label="State dropdown">
                                            <option selected disabled>Select...</option>
                                            <option value="AL">Alabama</option>
                                            <option value="AK">Alaska</option>
                                            <option value="AZ">Arizona</option>
                                            <option value="AR">Arkansas</option>
                                            <option value="CA">California</option>
                                            <option value="CO">Colorado</option>
                                            <option value="CT">Connecticut</option>
                                            <option value="DE">Delaware</option>
                                            <option value="FL">Florida</option>
                                            <option value="GA">Georgia</option>
                                            <option value="HI">Hawaii</option>
                                            <option value="ID">Idaho</option>
                                            <option value="IL">Illinois</option>
                                            <option value="IN">Indiana</option>
                                            <option value="IA">Iowa</option>
                                            <option value="KS">Kansas</option>
                                            <option value="KY">Kentucky</option>
                                            <option value="LA">Louisiana</option>
                                            <option value="ME">Maine</option>
                                            <option value="MD">Maryland</option>
                                            <option value="MA">Massachusetts</option>
                                            <option value="MI">Michigan</option>
                                            <option value="MN">Minnesota</option>
                                            <option value="MS">Mississippi</option>
                                            <option value="MO">Missouri</option>
                                            <option value="MT">Montana</option>
                                            <option value="NE">Nebraska</option>
                                            <option value="NV">Nevada</option>
                                            <option value="NH">New Hampshire</option>
                                            <option value="NJ">New Jersey</option>
                                            <option value="NM">New Mexico</option>
                                            <option value="NY">New York</option>
                                            <option value="NC">North Carolina</option>
                                            <option value="ND">North Dakota</option>
                                            <option value="OH">Ohio</option>
                                            <option value="OK">Oklahoma</option>
                                            <option value="OR">Oregon</option>
                                            <option value="PA">Pennsylvania</option>
                                            <option value="RI">Rhode Island</option>
                                            <option value="SC">South Carolina</option>
                                            <option value="SD">South Dakota</option>
                                            <option value="TN">Tennessee</option>
                                            <option value="TX">Texas</option>
                                            <option value="UT">Utah</option>
                                            <option value="VT">Vermont</option>
                                            <option value="VA">Virginia</option>
                                            <option value="WA">Washington</option>
                                            <option value="WV">West Virginia</option>
                                            <option value="WI">Wisconsin</option>
                                            <option value="WY">Wyoming</option>
                                        </select>
                                        <label for="subject">State</label>
                                        <script>
                                        $(document).ready(function() {
                                            $('.state-dropdown').select2({
                                                placeholder: "Select a state",
                                                allowClear: true
                                            });
                                        });
                                        </script>
                                        {% for error in form.State.errors %}
                                            <div class="invalid-feedback">{{ error }}</div>
                                        {% endfor %}
                                    </div>
                                    <div class="d-grid">
                                        <!--<a href="/login" class="btn btn-primary btn-lg" id="submitButton" role="button">Sign Up</a>-->
                                        <button type="submit" class="btn btn-primary btn-lg" id="submitButton" role="button">Sign up</button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </main>
            <!-- Bootstrap core JS-->
            <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
            <!-- Core theme JS-->
            <script src="{% static 'js/scripts.js' %}"></script>
        </body>
    </html>
{% endblock %}